{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createImageCard = image => {\n    return `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${image.webformatURL}\"\n                    data-source=\"${image.largeImageURL}\"\n                    alt=\"${image.tags}\"\n                />\n                </a> \n                <div class=\"describe\">\n                <div class=\"info\">\n                    <span class=\"label\">Likes</span><br>\n                    <span class=\"value\" data-likes>${image.likes}</span>\n                </div>\n                <div class=\"info\">\n                    <span class=\"label\">Views</span></span><br>\n                    <span class=\"value\" data-views>${image.views}</span>\n                </div>\n                <div class=\"info\">\n                    <span class=\"label\">Comments</span><br>\n                    <span class=\"value\" data-comments>${image.comments}</span>\n                </div>\n                <div class=\"info\">\n                    <span class=\"label\" >Downloads</span><br>\n                    <span class=\"value\" data-downloads>${image.downloads}</span>\n                </div>  \n                </div>\n        </li>\n    `;\n  };\n","export const fetchData = (query) => {\n    return fetch(`https://pixabay.com/api/?key=49388165-2207654a79f52bc7a4c348d65&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`).then(response => {\n        if (!response.ok){\n            throw new Error(response.status);\n        }\n        return response.json();\n    });\n};","import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\n\n\nimport {createImageCard} from './js/render-functions';\nimport {fetchData} from './js/pixabay-api';\n\nlet lightbox; \n\nconst refs = {\n    searchForm: document.querySelector('.form'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n}\n\nconst onSearchImage = event => {\n    event.preventDefault();\n\nconst query = event.currentTarget.elements[\"search-text\"].value.trim();\n\n    if (query === ''){\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Поле не має бути порожнім!',\n            position: 'topRight'\n        });\n        return;\n    }\n\n    refs.loader.classList.remove('hidden');\n\n    fetchData(query).then(({hits}) => {\n        if (hits.length === 0){\n            iziToast.warning({\n                title: 'Warning',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight'\n            });\n            refs.searchForm.reset();\n            refs.gallery.innerHTML = \"\";    \n\n            return;\n        }    \n\n        const imageCard = hits.map(img => createImageCard(img)).join('');\n        refs.gallery.innerHTML = imageCard;\n\n        \n        if (!lightbox) {\n            lightbox = new SimpleLightbox('.gallery-link', { captionsData: 'alt', captionDelay: 250 });\n        } else {\n            lightbox.refresh();\n        }\n    }).catch(err => {\n        console.log(err);\n    }).finally( () => {\n        refs.loader.classList.add('hidden'); // Приховуємо спінер після завантаження\n    });\n\n}\n\nrefs.searchForm.addEventListener('submit', onSearchImage);\n\n\n"],"names":["createImageCard","image","fetchData","query","response","lightbox","refs","onSearchImage","event","iziToast","hits","imageCard","img","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAAkBC,GACpB;AAAA;AAAA,4CAEiCA,EAAM,aAAa;AAAA;AAAA;AAAA,2BAGpCA,EAAM,YAAY;AAAA,mCACVA,EAAM,aAAa;AAAA,2BAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAMgBA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qDAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wDAIRA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,yDAIbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,MC1B3DC,EAAaC,GACf,MAAM,qEAAqEA,CAAK,0DAA0D,EAAE,KAAKC,GAAY,CAChK,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,ECGL,IAAIC,EAEJ,MAAMC,EAAO,CACT,WAAY,SAAS,cAAc,OAAO,EAC1C,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEMC,EAAgBC,GAAS,CAC3BA,EAAM,eAAc,EAExB,MAAML,EAAQK,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAE5D,GAAIL,IAAU,GAAG,CACbM,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,6BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDH,EAAK,OAAO,UAAU,OAAO,QAAQ,EAErCJ,EAAUC,CAAK,EAAE,KAAK,CAAC,CAAC,KAAAO,CAAI,IAAM,CAC9B,GAAIA,EAAK,SAAW,EAAE,CAClBD,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,2EACT,SAAU,UAC1B,CAAa,EACDH,EAAK,WAAW,QAChBA,EAAK,QAAQ,UAAY,GAEzB,MACH,CAED,MAAMK,EAAYD,EAAK,IAAIE,GAAOZ,EAAgBY,CAAG,CAAC,EAAE,KAAK,EAAE,EAC/DN,EAAK,QAAQ,UAAYK,EAGpBN,EAGDA,EAAS,QAAO,EAFhBA,EAAW,IAAIQ,EAAe,gBAAiB,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,CAIrG,CAAK,EAAE,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACvB,CAAK,EAAE,QAAS,IAAM,CACdR,EAAK,OAAO,UAAU,IAAI,QAAQ,CAC1C,CAAK,CAEL,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,CAAa"}